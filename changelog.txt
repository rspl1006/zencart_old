//----------------------------------------------------------------------------------------
//--- Additional customers fields MOD v3.01 ----------------------------------------------
//----------------------------------------------------------------------------------------
// --- Coded by TheOracle on May 22 2008. ------------------------------------------------
// --- Support: http://www.zen-cart.com/forum --------------------------------------------
// --- Designed for Zen-Cart v1.3x versions ----------------------------------------------
//----------------------------------------------------------------------------------------
// If you like this MOD, please send a donation to: scoutch@gmail.com . ------------------
//----------------------------------------------------------------------------------------

-- v3.0 -- > v3.01
- Bugfix: /includes/modules/<your_template>/create_account.php file where the additional customers fields object was not properly detected.

-- v2.55 -- > v3.0

- Bugfix: /admin/customers.php file for updating additional customers fields as the additional header has been moved above the update button instead
          of showing up on top of the page.

- Bugfix: /admin/additional_customers_fields.php file. Administrator needed to click twice on the activation link of a specific field. Now, only once is working.
- Bugfix: SQL Syntax error message from account edit and create account has now been fixed. The new class file should be able to take care of this from now on.
- Bugfix: Breaks in loops has been removed at 99% for showing the fields under the admin's customers core page. All of these indexes has now been entirely regrouped in each loops under the new class file.

- Added: New constructor class file in the admin and store which handles 100% of the TABLE_ADDITIONAL_CUSTOMERS table as well as the TABLE_CUSTOMERS settings 
         fields.

- Added: Fields can now be set as required fields (each seperately are being monitored from the new class file - required field or not).
- Added: Fields can now be set as URL fields for order confirmation emails from the store's email templates (with remote links non zen-cart related or Local Zen-Cart links).
- Added: New functionnality for handling additional customers fields inside the overrides templates and modules.
- Added: Init overrides files and auto loaders overrides files.
- Added: Additional Customers Fields v3.0 is now available with overrides.
- Added: New extra_definitions store file for handling titles and labels of the additional customers fields.
- Added: Physical fields parsed into text, which outputs from MessageStack, into label field when an error occurs with a specific field (useful for required fields).
- Added: A graphical manual file has now been included in this package under the name: 'manual.ppt' for a better understanding of these new features.
- Added: New instructions from /admin/includes/languages/english/extra_definitions/additional_customers_fields.php file.
- Added: Length fields from /admin/includes/languages/english/extra_definitions/additional_customers_fields.php file (useful for input and textarea fields).

- Removed: Order confirmation's additional project file (/includes/extra_datafiles/additional_customers_fields folder).
- Removed: /includes/languages/english/extra_definitions/your_template/additional_customers_fields_account_edit.php and
           additional_customers_fields_create_account.php file.

- Removed: /includes/extra_configures/additional_customers_fields.php file.
- Removed: Import link from /admin/additional_customers_fields.php file due to a bad infrastructure BUT should be re-added eventually.
- Removed: /includes/classes/db/mysql/query_factory.php file (NOT THE CLASS FILE - ONLY THE ADDITIONAL CONTENTS THAT WERE NEEDED FROM EARLIER RELEASES OF THIS CONTRIBUTION !!!).
- Removed: Each modules needed to be hardcoded in order to gather additional customers fields into templates. Now, a single object takes care of it (for each module files).
- Removed: /includes/functions/extra_functions/additional_customers_fields_functions.php file.

- Edited: /includes/modules/your_template/create_account.php file.
- Edited: /includes/modules/pages/account_edit/header_php.php file.
- Edited: /auto_loaders/config.core.php file.
- Edited: /includes/classes/order.php file.
- Edited: /admin/customers.php file.
- Edited: /admin/includes/functions/extra_functions/additional_customers_fields_functions.php file.
- Edited: /admin/languages/english/additional_customers_fields.php file.
- Edited: /admin/languages/english/extra_definitions/additional_customers_fields.php file.
- Edited: New massive upgrade procedures from upgrade.txt file.
- Edited: Template overrides folder of this package which were recently misplaced when using earlier versions of this contribution.

-- v2.51 -- > v2.52

- Bugfix: account edit module override file contained an invalid field. This error has been fixed.

-- v2.5 -- > v2.51

- Bugfix: pull-down selection form was not closed at the right constant time when applying the 'zen_draw_pull_down_menu' case from override templates.
- Bugfix: Declared keys from template are now amplified with security outputs when showing on HTML forms.
- Bugfix: Admin additional customers field file where the 'moderators_level' field could be modified. Now, this field is truly considered as a core field.
- Bugfix: A definition was missing for admin/customers.php file when successfully updating the fields. This has now been fixed.
- Bugfix: An defined function was used from the create account page. This has now been fixed.
- Description clarity: Uncommented titles for this MOD also has been corrected under the modules overrides files.

-- v2.2 -- > v2.5

- Bugfix: Duplicated fields were encountered during the registration account process from the store-end. This issue has now been fixed.
- Bugfix: Invalid results were returned from the account edit page (store-front end). This issue has now been fixed.
- Bugfix: Admin customers core page caused some core fields to unintentionally delete previous readings. This issue has now been fixed.

- Re-structuration: All loops has been converted in order for everyone (hopefully) to load my pages without any errors.
- Re-structuration: Admin customers core page now depends on an individual override function in order to load all related additional customers fields that might be involved.
  (This will facilitate implementation process when comparing readings for, either, a first time installation 'or' when upgrading (if needed)).

-- v2.1 -- > v2.2

- Added title definition from includes/modules/<your_template>/create_account.php file where the additional readings are located.

-- v2.02 -- > v2.1

- Re-structuration: The get_table_fields method has been reprogrammed into a more 'Zen-Cart' way.

-- v2.01 -- > v2.02

- Bugfix: The field name row was not pre-defined first, from the template files, which result an undefined index error message (especially for windows users).
          This error has now been fixed.

-- v2.0 -- > v2.01

- Bugfix: Create account page will no longer show the additional customers fields window when no fields are activated.

// New feature:

- Radio button type handling.

-- v1.22 -- > v2.0

- Bugfix: Textarea characters was not properly validated per each submissions (either from the create account or from the account edit page).
          This issue has now been fixed.

- Bugfix: Order class file contained small issues which prevents customers to successfully complete their orders. This issue has been fixed.

// New features:

Under the v2.0 (and above) releases, you can automatically add your fields into your templates without a 'slight' interference by using my functions.

- Better obfocusation for handling your additional customers fields - two single arguments with simply 3 lines of codes into your override template.
- Input type handling.
- Textarea type handling.
- Pull down menu handling.
- Checkboxes handling (not available yet).

- More detailed instructions from the two template files on where the additional customers fields starts and ends.
- Better validation modules for handling universal postings from customers.
- Auto-ajusted alignments when adding your additional customers fields.
- No more requirements for assuring the activation / de-activation of the fields rather than the admin section. The rest are all being handled from my new module.
- A new core field has been added to the array table (store-front end) due to the release of: 'Moderator level' MOD. This will prevent overriding any previous readings 
  from the generic updates (done by your customers). Please see my create_account.php file (from this package) for more info on this.

This version will be THE most facilitated feature EVER !
Even your 10 years old kid could handle that.

Note: See my new template files example and my two new store-front's extra_definitions files from this package for more details.

-- v1.21 -- > v1.22

- Bugfix: The create account module file contained a very slight bug.

-- v1.2 -- > v1.21

- Addon: A new core file has been added into the extra_configures's additional customers fields file.

-- Change v1.13 -- > v1.2

- Bugfix: Pull-down menus were not functionning properly. The counter wasn't reset after each SELECT lists. This has now been fixed.
- Bugfix: Sample 'customers_age' field from this package has also been fixed. From the admin section, the age must start to '1'.
          Note: When the customers will select their age from their account edit page, it doesn't matter from where it starts (positively of course)
          since the age will still be re-selected accordingly under the admin's customers core page.

-- Changelog v1.12 -- > v1.13

- Bugfix: Too many users were confused regarding the capitalized / uncapitalized characters when, either, creating fields or when using the arrays.
          This has been fixed. From now on, all created fields are now being considered as uncapitalized letters to avoid further confusions.

- Bugfix: Multiple fields could be created by using capitalized and uncapitalized letters. When amending the fields from templates, both fields were
          still showing. This has been fixed.

-- Changelog v1.11 -- > v1.12

- Bugfix: Transaction could not be completed due to un-detected customer's core table. This has been fixed.
- Bugfix: Admin's customers page patched. Some fields were still displaying even though the array was deactivated. This has been fixed.

- More detailed documentation: Under includes/templates/<your_template>/templates/tpl_account_edit_default.php file, more detailed instructions
  has been written in order, for conceptors, to understand the purpose of while loops.

-- Changelog v1.1 -- > v1.11

- Bugfix: Improved the functionality of the validation files (which unintentionally provoqued error headers messages). This issue has now been fixed.
- Bugfix: functions directory was not under the right folder. This issue has now been fixed.

-- Changelog v1.0 -- > v1.1

The following new features has been added into this MOD:
- Availability of adding additional customers fields into a seperated file in order to show these results
  into each order confirmation emails as it will, from now on, facilitate each zen-cart owners to make
  these additions rather than dangerously play into a order class file.

- After making these additions, instructed from upgrade.txt file, there shouldn't be ANY REASONS to play further
  into the class file (regarding this particular subject) since you won't never EVER need to do so again.
--- End of changelog report.


TheOracle.
User of Zen-Cart E-Commerce Script.
http://www.zen-cart.com/forum .